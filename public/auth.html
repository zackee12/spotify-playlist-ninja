<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auth</title>
</head>
<body>
Auth test
<script>
    function getParams() {
        let params = {};
        window.location.hash
            .substring(1, window.location.hash.length)
            .split('&')
            .map(x => x.split('='))
            .forEach((y) => {
                params[y[0]] = y[1];
            });
        return params;
    }

    if (window.location.hash && (window.opener || window.parent)) {
        let targetOrigin = window.location.host === 'localhost:3000' ? 'http://localhost:3000' : 'https://zackee12.github.io';
        let params = getParams();
        if (window.opener) window.opener.postMessage(params, targetOrigin);
        if (window.parent) window.parent.postMessage(params, targetOrigin);
    } else {
        window.location = '/';
    }
</script>
</body>
</html>